{"ast":null,"code":"var _jsxFileName = \"/Users/ahmadomar/stocks/frontend/src/components/stockGraph.jsx\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect, useRef } from 'react';\nimport * as d3 from 'd3';\nimport axios from 'axios';\nimport './stockGraph.css';\nimport useDebounce from './../hooks/useDebounce';\nimport TIMESTAMP_FORMAT from './../utils/timestampFormat';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst StockGraph = () => {\n  _s();\n  const [stock, setStock] = useState('ANF');\n  const debouncedStock = useDebounce(stock, 500);\n  // const [startDate, setStartDate] = useState('2024-10-15'); // default start date\n  const [startDate, setStartDate] = useState('1900-01-01'); // default start date\n  const [endDate, setEndDate] = useState('2024-10-16'); // default end date\n  const [profit, setProfit] = useState(null);\n  const [purchaseAmount, setPurchaseAmount] = useState(100); // default purchase amount $100\n  const [stockData, setStockData] = useState([]);\n  const [loading, setLoading] = useState(false);\n  const [error, setError] = useState(null);\n  const [earliestDate, setEarliestDate] = useState('');\n  const today = new Date().toISOString().split('T')[0]; // YYYY-MM-DD\n  const [formattedStockData, setFormattedStockData] = useState('');\n  const svgRef = useRef(); // rerender graph everytime svg is changed\n\n  useEffect(() => {\n    setFormattedStockData(JSON.stringify(stockData, null, 2)); // 2 spaces for pretty printing\n  }, [stockData]);\n  useEffect(() => {\n    fetchEarliestDate(); // earliest date possible for a given stock\n  }, [debouncedStock]);\n  useEffect(() => {\n    if (debouncedStock && startDate && endDate) {\n      fetchStockData();\n    }\n  }, [debouncedStock, startDate, endDate, purchaseAmount]);\n  useEffect(() => {\n    if (stockData.length) {\n      drawGraph();\n    }\n  }, [stockData]);\n  function formatDateString(dateString) {\n    const match = dateString.match(/^(\\d{4}-\\d{2}-\\d{2})/); // YYYY-MM-DD\n    return match ? match[1] : '';\n  }\n  const fetchStockData = async () => {\n    setLoading(true);\n    setError(null);\n    try {\n      const url = `http://localhost:5000/api/stocks?stock=${debouncedStock}&startDate=${startDate}&endDate=${endDate}`;\n      const response = await fetch(url);\n      if (!response.ok) throw new Error('Network response was not ok');\n      const result = await response.json();\n      let previousPrice = null; // used whenever price comes back as null\n      const formattedStockData = result.map(item => {\n        const date = new Date(item.timestamp * 1000);\n        const price = item.price !== null ? item.price : previousPrice; // most recent known price\n        previousPrice = price;\n        return {\n          date,\n          price\n        };\n      });\n      setStockData(formattedStockData);\n      calculateProfit(formattedStockData);\n    } catch (err) {\n      setError(err.message);\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  // returns data point closest to mouse position\n  const findClosestDataPoint = (stockData, dateAtMouse) => {\n    // binary search to find this faster\n    var left = 0;\n    var right = stockData.length - 1;\n    while (left < right) {\n      var mid = Math.floor((right + left) / 2);\n      var midDate = stockData[mid].date;\n      if (midDate.getTime() == dateAtMouse.getTime()) break;\n      if (midDate < dateAtMouse) {\n        left = mid + 1;\n      } else {\n        right = mid - 1;\n      }\n    }\n    return stockData[mid];\n  };\n  const drawGraph = () => {\n    // dimensions for graph\n    const margin = {\n      top: 20,\n      right: 30,\n      bottom: 40,\n      left: 40\n    };\n    const width = 800 - margin.left - margin.right;\n    const height = 400 - margin.top - margin.bottom;\n\n    // remove old graph\n    d3.select(svgRef.current).selectAll('*').remove();\n\n    // create new graph\n    const svg = d3.select(svgRef.current).attr('width', width + margin.left + margin.right).attr('height', height + margin.top + margin.bottom).append('g').attr('transform', `translate(${margin.left}, ${margin.top})`);\n    let closestData;\n    const handleMousemove = e => {\n      const [mouseX] = d3.pointer(e);\n      const dateAtMouse = x.invert(mouseX); // gets x intercept\n      closestData = findClosestDataPoint(stockData, dateAtMouse); // finds closest value in stock data array\n      if (closestData) {\n        var _closestData, _closestData$price;\n        // update tooltip\n        tooltip.html(`<strong>Date:</strong><br> ${d3.timeFormat('%b %e %Y')(closestData.date)}<br><strong>Price:</strong><br> $${(_closestData = closestData) === null || _closestData === void 0 ? void 0 : (_closestData$price = _closestData.price) === null || _closestData$price === void 0 ? void 0 : _closestData$price.toFixed(2)}`).style('opacity', 1).style('x', `${e.pageX - 30}px`).style('y', `${e.pageY - 200}px`);\n        trackerLine.attr('x1', x(dateAtMouse)).attr('x2', x(dateAtMouse)).attr('y1', 0).attr('y2', height);\n        ball.attr('cx', x(dateAtMouse)).attr('cy', y(closestData.price));\n      }\n    };\n    svg.on('mousemove', handleMousemove); // update ui when mouse moves\n    svg.on('mouseout', () => {\n      // hide tooltips when the cursor leaves the graph\n      trackerLine.style('opacity', 0);\n      tooltip.style('opacity', 0);\n      ball.style('opacity', 0);\n    });\n\n    // add the x and y axes\n    const x = d3.scaleTime().domain(d3.extent(stockData, d => d.date)).range([0, width]);\n    svg.append('g').attr('class', 'x-axis').attr('transform', `translate(0,${height})`).call(d3.axisBottom(x));\n    const y = d3.scaleLinear().domain([0, d3.max(stockData, d => d.price)]).range([height, 0]);\n    svg.append('g').attr('class', 'y-axis').call(d3.axisLeft(y));\n\n    // maps x and y access to date and price attributes\n    const line = d3.line().x(d => x(d.date)).y(d => y(d.price));\n\n    // add the graphed line\n    svg.append('path').attr('class', 'line').datum(stockData) // plugs in data\n    .attr('fill', 'none').attr('d', line).attr('clip-path', 'url(#clip)'); // clipping path keeps graphed line from going over axes on zoom\n\n    // pass attributes from object to object, prefix style attributes with 'style-'\n    const passAttributes = (object, attrs) => {\n      for (let key in attrs) {\n        if (attrs.hasOwnProperty(key)) {\n          if (key.match(/^style\\-/)) {\n            object.style(key.slice(6), attrs[key]); // add 'style-'s as style attributes\n          } else if (key === 'html') {\n            object.html(attrs[key]); // add html as html\n          } else {\n            object.attr(key, attrs[key]); // add everything else as an attr\n          }\n        }\n      }\n      return object;\n    };\n    const trackerGroup = svg.append('g').attr('class', 'tracker-line-group').style('z-index', 1); // needed because this allows proper z-index stacking \n\n    const createTrackerLine = (extraAttrs = {}) => {\n      var trackerLine = trackerGroup.append('line').attr('class', 'tracker-line').attr('y1', 0).attr('y2', height);\n      trackerLine = passAttributes(trackerLine, extraAttrs);\n      return trackerLine;\n    };\n    const trackerLine = createTrackerLine(); // create hovering tracker line\n\n    const createTrackerBall = (extraAttrs = {}) => {\n      var ball = svg.append('circle').attr('class', 'tracker-ball').attr('r', 2);\n      ball = passAttributes(ball, extraAttrs);\n      return ball;\n    };\n    const ball = createTrackerBall(); // create hovering tracker line ball to show where it intersects the tracker\n\n    const createTooltip = (extraAttrs = {}) => {\n      var tooltip = svg.append('foreignObject').attr('class', 'tooltip');\n      tooltip = passAttributes(tooltip, extraAttrs);\n      return tooltip;\n    };\n    const tooltip = createTooltip(); // shows info about the data at the cursor's intersects\n\n    // invisible rectangle for detecting mouseover event\n    svg.append('rect').attr('width', width).attr('height', height).style('z-index', 99).style('fill', 'none').style('pointer-events', 'all');\n\n    // clipping path to keep graphed line within borders\n    svg.append('defs').append('clipPath').attr('id', 'clip').append('rect').attr('width', width).attr('height', height);\n\n    // set up zoom brush\n    var brush = d3.brush() // brush event is a drag selection in d3\n    .on('end', e => {\n      if (!e.selection) return;\n\n      // gets the four corners of the users drag selection and sets the area of the selection to be the new domains of the axes\n      var [[x0, y0], [x1, y1]] = e.selection;\n      var minDate = x.invert(x0);\n      var maxDate = x.invert(x1);\n      var minValue = y.invert(y0);\n      var maxValue = y.invert(y1);\n      x.domain([Math.min(minDate, maxDate), Math.max(minDate, maxDate)]);\n      y.domain([Math.min(minValue, maxValue), Math.max(minValue, maxValue)]);\n\n      // update the axes and the graphed line smoothly\n      svg.select('.x-axis').transition().duration(1000).call(d3.axisBottom(x));\n      svg.select('.y-axis').transition().duration(1000).call(d3.axisLeft(y));\n      svg.selectAll('.line').transition().duration(1000).attr('d', line);\n    });\n    svg.append('g').attr('class', 'brush').call(brush);\n\n    // copy and freeze current tooltip and tracker on click\n    svg.on('click', function (e) {\n      var _closestData2, _closestData2$price;\n      const frozenTrackerLine = createTrackerLine({\n        'x1': x(closestData.date),\n        'x2': x(closestData.date)\n      });\n      var frozenBall = createTrackerBall({\n        'cx': x(closestData.date),\n        'cy': y(closestData.price),\n        'fill': 'purple',\n        'stroke': 'purple'\n      });\n      var frozenTooltip = createTooltip({\n        'html': `<strong>Date:</strong><br> ${d3.timeFormat('%b %e %Y')(closestData.date)}<br><strong>Price:</strong><br> $${(_closestData2 = closestData) === null || _closestData2 === void 0 ? void 0 : (_closestData2$price = _closestData2.price) === null || _closestData2$price === void 0 ? void 0 : _closestData2$price.toFixed(2)}`,\n        'x': `${e.pageX - 30}px`,\n        'y': `${e.pageY - 200}px`,\n        'style-opacity': 1\n      }).classed('frozen-tooltip', true);\n    });\n  };\n  function formatAsCurrency(amount) {\n    return new Intl.NumberFormat('en-US', {\n      style: 'currency',\n      currency: 'USD',\n      minimumFractionDigits: 2,\n      maximumFractionDigits: 2\n    }).format(amount);\n  }\n  const calculateProfit = () => {\n    if (stockData.length === 0) return;\n    const initialPrice = stockData[0].price;\n    const shares = purchaseAmount / initialPrice;\n    const finalPrice = stockData[stockData.length - 1].price;\n    const profitAmount = (shares * finalPrice - shares * initialPrice).toFixed(2);\n    setProfit(formatAsCurrency(profitAmount));\n  };\n  const fetchEarliestDate = async () => {\n    try {\n      const response = await axios.get(`http://localhost:5000/api/earliest-date?symbol=${debouncedStock}`);\n      const newEarliestDate = formatDateString(response.data.earliestDate);\n      setEarliestDate(newEarliestDate);\n      if (new Date(newEarliestDate) > new Date(startDate)) {\n        setStartDate(newEarliestDate);\n      }\n\n      // update endDate if it's earlier than the new earliest date\n      if (new Date(endDate) < new Date(newEarliestDate)) {\n        setEndDate(today); // Reset endDate to today\n      }\n    } catch (error) {\n      console.error('Error fetching earliest date:', error);\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n      children: \"Stock Investment Graph\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 329,\n      columnNumber: 13\n    }, this), \"Earliest date:\", earliestDate, /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 331,\n      columnNumber: 13\n    }, this), \"Start date:\", startDate, /*#__PURE__*/_jsxDEV(\"form\", {\n      children: /*#__PURE__*/_jsxDEV(\"table\", {\n        children: [/*#__PURE__*/_jsxDEV(\"thead\", {\n          children: /*#__PURE__*/_jsxDEV(\"tr\", {\n            children: [/*#__PURE__*/_jsxDEV(\"th\", {\n              children: \"Stock:\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 337,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n              children: \"Start:\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 338,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n              children: \"End:\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 339,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n              colSpan: \"100%\",\n              children: \"Purchase Amount:\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 340,\n              columnNumber: 29\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 336,\n            columnNumber: 25\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 335,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"tbody\", {\n          children: /*#__PURE__*/_jsxDEV(\"tr\", {\n            children: [/*#__PURE__*/_jsxDEV(\"td\", {\n              children: /*#__PURE__*/_jsxDEV(\"label\", {\n                children: /*#__PURE__*/_jsxDEV(\"input\", {\n                  type: \"text\",\n                  placeholder: \"Stock Symbol\",\n                  value: stock,\n                  onChange: e => setStock(e.target.value)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 347,\n                  columnNumber: 37\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 346,\n                columnNumber: 33\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 345,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n              children: /*#__PURE__*/_jsxDEV(\"label\", {\n                children: /*#__PURE__*/_jsxDEV(\"input\", {\n                  type: \"date\",\n                  max: today,\n                  min: earliestDate ? new Date(earliestDate).toISOString().split('T')[0] : '',\n                  value: startDate,\n                  onChange: e => {\n                    const selectedDate = e.target.value;\n                    if (new Date(selectedDate) >= new Date(earliestDate) && new Date(selectedDate) <= new Date(today)) {\n                      setStartDate(selectedDate);\n                    }\n                  }\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 357,\n                  columnNumber: 37\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 356,\n                columnNumber: 33\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 355,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n              children: /*#__PURE__*/_jsxDEV(\"label\", {\n                children: /*#__PURE__*/_jsxDEV(\"input\", {\n                  type: \"date\",\n                  max: today,\n                  min: earliestDate ? new Date(earliestDate).toISOString().split('T')[0] : '',\n                  value: endDate,\n                  onChange: e => {\n                    const selectedDate = e.target.value;\n                    if (new Date(selectedDate) >= new Date(earliestDate) && new Date(selectedDate) <= new Date(today)) {\n                      setEndDate(selectedDate);\n                    }\n                  }\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 373,\n                  columnNumber: 37\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 372,\n                columnNumber: 33\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 371,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n              children: /*#__PURE__*/_jsxDEV(\"label\", {\n                children: /*#__PURE__*/_jsxDEV(\"input\", {\n                  type: \"number\",\n                  value: purchaseAmount,\n                  onChange: e => setPurchaseAmount(e.target.value),\n                  placeholder: \"Purchase Amount in USD\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 389,\n                  columnNumber: 37\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 388,\n                columnNumber: 33\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 387,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(\"td\", {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 397,\n              columnNumber: 29\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 344,\n            columnNumber: 25\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 343,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 334,\n        columnNumber: 17\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 333,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"svg\", {\n      ref: svgRef\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 404,\n      columnNumber: 13\n    }, this), \" \", /*#__PURE__*/_jsxDEV(\"h2\", {\n      children: [\"Profit: \", profit]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 405,\n      columnNumber: 13\n    }, this), loading && /*#__PURE__*/_jsxDEV(\"p\", {\n      children: \"Loading...\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 406,\n      columnNumber: 25\n    }, this), error && /*#__PURE__*/_jsxDEV(\"p\", {\n      children: [\"Error: \", error]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 407,\n      columnNumber: 23\n    }, this), /*#__PURE__*/_jsxDEV(\"pre\", {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 408,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 328,\n    columnNumber: 9\n  }, this);\n};\n_s(StockGraph, \"d84ooLuMKZa8fV+F8oP8QdcgVkY=\", false, function () {\n  return [useDebounce];\n});\n_c = StockGraph;\nexport default StockGraph;\n\n// const zoom = d3.zoom()\n//     .scaleExtent([1,10])\n//     .extent([0,0],[width,height])\n//     .translateExtent([[0,0],[width,height]])\n//     .on('zoom',zoomed);\n\n// svg.append('defs').append('clipPath')\n//     .attr('id','clip')\n//     .append('rect')\n//     .attr('width',width)\n//     .attr('height',height);\n\n// svg.call(zoom);\n\n// function zoomed(e){\n//     const newXScale = e.transform.rescaleX(x);\n//     const newYScale = e.transform.rescaleY(y);\n\n//     svg.select('.line')\n//         .attr('d', d3.line()\n//                 .x(d => newXScale(d.date))\n//                 .y(d => newYScale(d.date))\n//         )\n\n//     svg.select('.x-axis').call(d3.axisBottom(newXScale))\n//     svg.select('.y-axis').call(d3.axisLeft(newYScale))\n// }\n\n// svg.on('wheel', (e)=>{\n//     e.preventDefault();\n//     const scaleFactor = e.deltaY > 0 ? 1.1 : .9;\n//     svg.transition().call(zoom.scaleBy, scaleFactor);\n// });import React, { useState, useEffect, useRef } from 'react';\nvar _c;\n$RefreshReg$(_c, \"StockGraph\");","map":{"version":3,"names":["React","useState","useEffect","useRef","d3","axios","useDebounce","TIMESTAMP_FORMAT","jsxDEV","_jsxDEV","StockGraph","_s","stock","setStock","debouncedStock","startDate","setStartDate","endDate","setEndDate","profit","setProfit","purchaseAmount","setPurchaseAmount","stockData","setStockData","loading","setLoading","error","setError","earliestDate","setEarliestDate","today","Date","toISOString","split","formattedStockData","setFormattedStockData","svgRef","JSON","stringify","fetchEarliestDate","fetchStockData","length","drawGraph","formatDateString","dateString","match","url","response","fetch","ok","Error","result","json","previousPrice","map","item","date","timestamp","price","calculateProfit","err","message","findClosestDataPoint","dateAtMouse","left","right","mid","Math","floor","midDate","getTime","margin","top","bottom","width","height","select","current","selectAll","remove","svg","attr","append","closestData","handleMousemove","e","mouseX","pointer","x","invert","_closestData","_closestData$price","tooltip","html","timeFormat","toFixed","style","pageX","pageY","trackerLine","ball","y","on","scaleTime","domain","extent","d","range","call","axisBottom","scaleLinear","max","axisLeft","line","datum","passAttributes","object","attrs","key","hasOwnProperty","slice","trackerGroup","createTrackerLine","extraAttrs","createTrackerBall","createTooltip","brush","selection","x0","y0","x1","y1","minDate","maxDate","minValue","maxValue","min","transition","duration","_closestData2","_closestData2$price","frozenTrackerLine","frozenBall","frozenTooltip","classed","formatAsCurrency","amount","Intl","NumberFormat","currency","minimumFractionDigits","maximumFractionDigits","format","initialPrice","shares","finalPrice","profitAmount","get","newEarliestDate","data","console","children","fileName","_jsxFileName","lineNumber","columnNumber","colSpan","type","placeholder","value","onChange","target","selectedDate","ref","_c","$RefreshReg$"],"sources":["/Users/ahmadomar/stocks/frontend/src/components/stockGraph.jsx"],"sourcesContent":["import React, { useState, useEffect, useRef } from 'react';\nimport * as d3 from 'd3';\nimport axios from 'axios';\n\nimport './stockGraph.css';\nimport useDebounce from './../hooks/useDebounce';\nimport TIMESTAMP_FORMAT from './../utils/timestampFormat';\n\nconst StockGraph = () => {\n    const [stock, setStock] = useState('ANF'); \n    const debouncedStock = useDebounce(stock, 500);\n    // const [startDate, setStartDate] = useState('2024-10-15'); // default start date\n    const [startDate, setStartDate] = useState('1900-01-01'); // default start date\n    const [endDate, setEndDate] = useState('2024-10-16'); // default end date\n    const [profit, setProfit] = useState(null);\n    const [purchaseAmount, setPurchaseAmount] = useState(100); // default purchase amount $100\n    const [stockData, setStockData] = useState([]);\n    const [loading, setLoading] = useState(false);\n    const [error, setError] = useState(null);\n    const [earliestDate, setEarliestDate] = useState('');\n    const today = new Date().toISOString().split('T')[0]; // YYYY-MM-DD\n    const [formattedStockData, setFormattedStockData] = useState('');\n\n    const svgRef = useRef(); // rerender graph everytime svg is changed\n\n    useEffect(() => {\n        setFormattedStockData(JSON.stringify(stockData, null, 2)); // 2 spaces for pretty printing\n    }, [stockData]);\n\n    useEffect(() => {\n        fetchEarliestDate(); // earliest date possible for a given stock\n    }, [debouncedStock]);\n\n    useEffect(() => {\n        if (debouncedStock && startDate && endDate) {\n            fetchStockData();\n        }\n    }, [debouncedStock, startDate, endDate, purchaseAmount]);\n\n    useEffect(() => {\n        if (stockData.length) {\n            drawGraph();\n        }\n    }, [stockData]);\n\n    function formatDateString(dateString){\n        const match = dateString.match(/^(\\d{4}-\\d{2}-\\d{2})/); // YYYY-MM-DD\n        return match ? match[1] : '';\n    }\n\n    const fetchStockData = async () => {\n        setLoading(true);\n        setError(null);\n        try {\n            const url = `http://localhost:5000/api/stocks?stock=${debouncedStock}&startDate=${startDate}&endDate=${endDate}`;\n            const response = await fetch(url);\n            if (!response.ok) throw new Error('Network response was not ok');\n            const result = await response.json();\n\n            let previousPrice = null; // used whenever price comes back as null\n            const formattedStockData = result.map(item => {\n                const date = new Date(item.timestamp * 1000);\n                const price = item.price !== null ? item.price : previousPrice; // most recent known price\n                previousPrice = price;\n                return { date, price };\n            });\n            setStockData(formattedStockData);\n            calculateProfit(formattedStockData);\n        } catch (err) {\n            setError(err.message);\n        } finally {\n            setLoading(false);\n        }\n    };\n\n    // returns data point closest to mouse position\n    const findClosestDataPoint = (stockData, dateAtMouse) => {\n        // binary search to find this faster\n        var left = 0;\n        var right = stockData.length-1;\n        while(left < right){\n            var mid = Math.floor((right+left)/2);\n            var midDate = stockData[mid].date;\n            if(midDate.getTime() == dateAtMouse.getTime()) break;\n            if(midDate < dateAtMouse){\n                left = mid+1;\n            }else{\n                right = mid-1;\n            }\n        }\n        return stockData[mid];\n    }\n\n\n    const drawGraph = () => {\n        // dimensions for graph\n        const margin = { top: 20, right: 30, bottom: 40, left: 40 };\n        const width = 800 - margin.left - margin.right;\n        const height = 400 - margin.top - margin.bottom;\n\n        // remove old graph\n        d3.select(svgRef.current).selectAll('*').remove();\n\n        // create new graph\n        const svg = d3.select(svgRef.current)\n            .attr('width', width + margin.left + margin.right)\n            .attr('height', height + margin.top + margin.bottom)\n            .append('g')\n            .attr('transform', `translate(${margin.left}, ${margin.top})`);\n\n        let closestData;\n        const handleMousemove = (e) => {\n            const [mouseX] = d3.pointer(e);\n            const dateAtMouse = x.invert(mouseX); // gets x intercept\n            closestData = findClosestDataPoint(stockData,dateAtMouse); // finds closest value in stock data array\n            if(closestData){\n                // update tooltip\n                tooltip\n                    .html(`<strong>Date:</strong><br> ${d3.timeFormat('%b %e %Y')(closestData.date)}<br><strong>Price:</strong><br> $${closestData?.price?.toFixed(2)}`)\n                    .style('opacity', 1)\n                    .style('x', `${e.pageX-30}px`)\n                    .style('y', `${e.pageY-200}px`);\n                trackerLine\n                    .attr('x1', x(dateAtMouse))\n                    .attr('x2', x(dateAtMouse))\n                    .attr('y1', 0)\n                    .attr('y2', height);\n                ball\n                    .attr('cx', x(dateAtMouse))\n                    .attr('cy', y(closestData.price));\n            }\n        };\n        svg.on('mousemove', handleMousemove); // update ui when mouse moves\n        svg.on('mouseout',()=>{ // hide tooltips when the cursor leaves the graph\n            trackerLine.style('opacity',0);\n            tooltip.style('opacity',0);\n            ball.style('opacity',0);\n        })\n\n\n        // add the x and y axes\n        const x = d3.scaleTime()\n            .domain(d3.extent(stockData, d => d.date))\n            .range([0, width]);\n        svg.append('g')\n            .attr('class', 'x-axis')\n            .attr('transform', `translate(0,${height})`)\n            .call(d3.axisBottom(x));\n\n        const y = d3.scaleLinear()\n            .domain([0, d3.max(stockData, d => d.price)])\n            .range([height, 0]);\n        svg.append('g')\n            .attr('class', 'y-axis')\n            .call(d3.axisLeft(y));\n\n        // maps x and y access to date and price attributes\n        const line = d3.line()\n            .x(d => x(d.date))\n            .y(d => y(d.price));\n\n\n        // add the graphed line\n        svg.append('path')\n            .attr('class','line')\n            .datum(stockData) // plugs in data\n            .attr('fill', 'none')\n            .attr('d', line)\n            .attr('clip-path','url(#clip)'); // clipping path keeps graphed line from going over axes on zoom\n\n        // pass attributes from object to object, prefix style attributes with 'style-'\n        const passAttributes = (object, attrs) => {\n            for(let key in attrs) {\n                if(attrs.hasOwnProperty(key)) {\n                    if (key.match(/^style\\-/)) {\n                        object.style(key.slice(6), attrs[key]); // add 'style-'s as style attributes\n                    } else if (key === 'html') {\n                        object.html(attrs[key]); // add html as html\n                    } else {\n                        object.attr(key, attrs[key]); // add everything else as an attr\n                    }\n                }\n            }\n            return object;\n        }\n\n        const trackerGroup = svg.append('g').attr('class', 'tracker-line-group').style('z-index', 1); // needed because this allows proper z-index stacking \n\n        const createTrackerLine = (extraAttrs = {}) => {\n            var trackerLine = trackerGroup.append('line')\n                .attr('class','tracker-line')\n                .attr('y1', 0)\n                .attr('y2', height);\n            trackerLine = passAttributes(trackerLine, extraAttrs);\n            return trackerLine;\n        }\n\n        const trackerLine = createTrackerLine(); // create hovering tracker line\n\n        const createTrackerBall = (extraAttrs = {}) => {\n            var ball = svg.append('circle')\n                .attr('class','tracker-ball')\n                .attr('r', 2);\n            ball = passAttributes(ball, extraAttrs);\n            return ball;\n        }\n\n        const ball = createTrackerBall(); // create hovering tracker line ball to show where it intersects the tracker\n\n        const createTooltip = (extraAttrs = {}) => {\n            var tooltip = svg.append('foreignObject').attr('class', 'tooltip');\n            tooltip = passAttributes(tooltip, extraAttrs);\n            return tooltip;\n        }\n\n        const tooltip = createTooltip(); // shows info about the data at the cursor's intersects\n\n        // invisible rectangle for detecting mouseover event\n        svg.append('rect')\n            .attr('width', width)\n            .attr('height', height)\n            .style('z-index',99)\n            .style('fill', 'none')\n            .style('pointer-events', 'all');\n\n        // clipping path to keep graphed line within borders\n        svg.append('defs')\n            .append('clipPath')\n            .attr('id', 'clip')\n            .append('rect')\n            .attr('width', width)\n            .attr('height', height);\n\n        // set up zoom brush\n        var brush = d3.brush() // brush event is a drag selection in d3\n                    .on('end', (e)=>{\n                        if(!e.selection) return\n\n                        // gets the four corners of the users drag selection and sets the area of the selection to be the new domains of the axes\n                        var [[x0, y0], [x1, y1]] = e.selection;\n                        var minDate = x.invert(x0);\n                        var maxDate = x.invert(x1);\n                        var minValue = y.invert(y0);\n                        var maxValue = y.invert(y1);\n\n                        x.domain([Math.min(minDate,maxDate), Math.max(minDate,maxDate)]);\n                        y.domain([Math.min(minValue,maxValue), Math.max(minValue,maxValue)]);\n                 \n                        // update the axes and the graphed line smoothly\n                        svg.select('.x-axis')\n                            .transition()\n                            .duration(1000)\n                            .call(d3.axisBottom(x));\n\n                        svg.select('.y-axis')\n                            .transition()\n                            .duration(1000)\n                            .call(d3.axisLeft(y));\n\n                        svg.selectAll('.line')\n                            .transition()\n                            .duration(1000)\n                            .attr('d', line);\n                    });\n\n        svg.append('g')\n            .attr('class', 'brush')\n            .call(brush);\n\n        // copy and freeze current tooltip and tracker on click\n        svg.on('click', function(e) {\n            const frozenTrackerLine = createTrackerLine({\n                'x1': x(closestData.date),\n                'x2': x(closestData.date)\n            });\n\n            var frozenBall = createTrackerBall({\n                'cx': x(closestData.date),\n                'cy': y(closestData.price),\n                'fill': 'purple',\n                'stroke': 'purple'});\n\n            var frozenTooltip = createTooltip({\n                'html':`<strong>Date:</strong><br> ${d3.timeFormat('%b %e %Y')(closestData.date)}<br><strong>Price:</strong><br> $${closestData?.price?.toFixed(2)}`,\n                'x':`${e.pageX-30}px`,'y':`${e.pageY-200}px`,'style-opacity':1})\n            .classed('frozen-tooltip',true);\n        });\n    };\n\n    function formatAsCurrency(amount) {\n        return new Intl.NumberFormat('en-US', {\n            style: 'currency',\n            currency: 'USD',\n            minimumFractionDigits: 2,\n            maximumFractionDigits: 2\n        }).format(amount);\n    }\n\n    const calculateProfit = () => {\n        if (stockData.length === 0) return;\n        const initialPrice = stockData[0].price;\n        const shares = (purchaseAmount/initialPrice);\n        const finalPrice = stockData[stockData.length - 1].price;\n        const profitAmount = ((shares*finalPrice) - (shares*initialPrice)).toFixed(2);\n        setProfit(formatAsCurrency(profitAmount));\n    };\n\n    const fetchEarliestDate = async () => {\n        try {\n            const response = await axios.get(`http://localhost:5000/api/earliest-date?symbol=${debouncedStock}`);\n            const newEarliestDate = formatDateString(response.data.earliestDate);\n            setEarliestDate(newEarliestDate);\n\n            if(new Date(newEarliestDate)>new Date(startDate)) {\n                setStartDate(newEarliestDate);\n            }\n\n            // update endDate if it's earlier than the new earliest date\n            if (new Date(endDate) < new Date(newEarliestDate)) {\n                setEndDate(today); // Reset endDate to today\n            }\n        } catch (error) {\n            console.error('Error fetching earliest date:', error);\n        }\n    };\n\n    return (\n        <div>\n            <h1>Stock Investment Graph</h1>\n            Earliest date:{earliestDate}\n            <br/>\n            Start date:{startDate}\n            <form>\n                <table>\n                    <thead>\n                        <tr>\n                            <th>Stock:</th>\n                            <th>Start:</th>\n                            <th>End:</th>\n                            <th colSpan='100%'>Purchase Amount:</th>\n                        </tr>\n                    </thead>\n                    <tbody>\n                        <tr>\n                            <td>\n                                <label>\n                                    <input\n                                        type=\"text\"\n                                        placeholder=\"Stock Symbol\"\n                                        value={stock}\n                                        onChange={(e) => setStock(e.target.value)}\n                                    />\n                                </label>\n                            </td>\n                            <td>\n                                <label>\n                                    <input\n                                        type=\"date\"\n                                        max={today}\n                                        min={earliestDate ? new Date(earliestDate).toISOString().split('T')[0] : ''}\n                                        value={startDate}\n                                        onChange={(e) => {\n                                            const selectedDate = e.target.value;\n                                            if (new Date(selectedDate) >= new Date(earliestDate) && new Date(selectedDate) <= new Date(today)) {\n                                                setStartDate(selectedDate);\n                                            }\n                                        }}\n                                    />\n                                </label>\n                            </td>\n                            <td>\n                                <label>\n                                    <input\n                                        type=\"date\"\n                                        max={today}\n                                        min={earliestDate ? new Date(earliestDate).toISOString().split('T')[0] : ''}\n                                        value={endDate}\n                                        onChange={(e) => {\n                                            const selectedDate = e.target.value;\n                                            if (new Date(selectedDate) >= new Date(earliestDate) && new Date(selectedDate) <= new Date(today)) {\n                                                setEndDate(selectedDate);\n                                            }\n                                        }}\n                                    />\n                                </label>\n                            </td>\n                            <td>\n                                <label>\n                                    <input\n                                        type=\"number\"\n                                        value={purchaseAmount}\n                                        onChange={(e) => setPurchaseAmount(e.target.value)}\n                                        placeholder=\"Purchase Amount in USD\"\n                                    />\n                                </label>\n                            </td>\n                            <td>\n                                {/*<button type=\"submit\">Fetch Data</button>*/}\n                            </td>\n                        </tr>\n                    </tbody>\n                </table>\n            </form>\n            <svg ref={svgRef}></svg> {/* SVG for D3 to draw on */}\n            <h2>Profit: {profit}</h2>\n            {loading && <p>Loading...</p>}\n            {error && <p>Error: {error}</p>}\n            <pre>{/*formattedStockData*/}</pre>\n        </div>\n    );\n};\n\nexport default StockGraph;\n\n// const zoom = d3.zoom()\n//     .scaleExtent([1,10])\n//     .extent([0,0],[width,height])\n//     .translateExtent([[0,0],[width,height]])\n//     .on('zoom',zoomed);\n\n// svg.append('defs').append('clipPath')\n//     .attr('id','clip')\n//     .append('rect')\n//     .attr('width',width)\n//     .attr('height',height);\n\n// svg.call(zoom);\n\n// function zoomed(e){\n//     const newXScale = e.transform.rescaleX(x);\n//     const newYScale = e.transform.rescaleY(y);\n\n//     svg.select('.line')\n//         .attr('d', d3.line()\n//                 .x(d => newXScale(d.date))\n//                 .y(d => newYScale(d.date))\n//         )\n\n//     svg.select('.x-axis').call(d3.axisBottom(newXScale))\n//     svg.select('.y-axis').call(d3.axisLeft(newYScale))\n// }\n\n// svg.on('wheel', (e)=>{\n//     e.preventDefault();\n//     const scaleFactor = e.deltaY > 0 ? 1.1 : .9;\n//     svg.transition().call(zoom.scaleBy, scaleFactor);\n// });import React, { useState, useEffect, useRef } from 'react';"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}